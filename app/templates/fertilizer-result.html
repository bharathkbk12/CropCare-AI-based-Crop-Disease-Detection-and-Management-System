{% extends 'layout.html' %} 
{% block body %}

<div class="container py-5 mx-auto" style="margin: 2rem;">
  
  <!-- Workflow Progress -->
  <div class="row mb-4">
    <div class="col-sm">
      <div class="card card-body text-center" style="background-color: #f8f9fa;">
        <h3 style="color: #495057;"><b>🌾 Complete Agricultural Analysis</b></h3>
        <div class="row mt-3">
          <div class="col-md-4">
            <div class="d-flex align-items-center justify-content-center">
              <span class="badge badge-success badge-pill" style="font-size: 16px; padding: 10px 15px;">✅ Step 1: Disease Detected</span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="d-flex align-items-center justify-content-center">
              <span class="badge badge-warning badge-pill" style="font-size: 16px; padding: 10px 15px;">✅ Step 2: Location Analyzed</span>
            </div>
          </div>
          <div class="col-md-4">
            <div class="d-flex align-items-center justify-content-center">
              <span class="badge badge-info badge-pill" style="font-size: 16px; padding: 10px 15px;">✅ Step 3: Fertilizer Recommended</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Fertilizer Recommendation Results -->
  <div class="row mb-4">
    <div class="col-sm">
      <div class="card card-body" style="background-color: #d4edda; border-left: 5px solid #28a745;">
        <h3 style="color: #155724; font-size: 24px;"><b>🌱 Fertilizer Recommendation</b></h3>
        <hr>
        <div class="recommendation-content" style="color: #155724; font-size: 18px; line-height: 1.6;">
          {{ recommendation }}
        </div>
      </div>
    </div>
  </div>

  <!-- Input Summary -->
  <div class="row mb-4">
    <div class="col-sm">
      <div class="card card-body" style="background-color: #e3f2fd;">
        <h3 style="color: #1565c0;"><b>📊 Analysis Summary</b></h3>
        <div class="row">
          <div class="col-md-6">
            <p><strong>Crop Type:</strong> {{ crop }}</p>
            <p><strong>Location:</strong> {{ city }}</p>
            <p><strong>Soil pH:</strong> {{ ph }}</p>
          </div>
          <div class="col-md-6">
            <p><strong>Nitrogen (N):</strong> {{ nitrogen }}</p>
            <p><strong>Phosphorous (P):</strong> {{ phosphorous }}</p>
            <p><strong>Potassium (K):</strong> {{ pottasium }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="row">
    <div class="col-sm text-center">
      <a href="/disease-predict" class="btn btn-success btn-lg mr-3">
        🔄 Start New Analysis
      </a>
      <a href="/crop-recommend" class="btn btn-primary btn-lg mr-3">
        🌾 Get Crop Recommendation
      </a>
      <a href="/" class="btn btn-outline-secondary btn-lg">
        🏠 Back to Home
      </a>
    </div>
  </div>
</div>

<style>
.badge {
  font-weight: 600;
}

.card {
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  border: none;
}

.recommendation-content {
  text-align: left;
  padding: 20px;
  background-color: rgba(255, 255, 255, 0.7);
  border-radius: 8px;
  margin-top: 15px;
}

.btn {
  margin: 5px;
  font-weight: 600;
}

.btn-success {
  background-color: #28a745;
  border-color: #28a745;
}

.btn-primary {
  background-color: #007bff;
  border-color: #007bff;
}
</style>

{% endblock %}
